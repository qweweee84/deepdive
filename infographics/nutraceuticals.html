<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¸í„°ë™í‹°ë¸Œ ì˜ì–‘ì œ ê°€ì´ë“œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutral Harmony -->
    <!-- Application Structure Plan: ì‚¬ìš©ìê°€ ê°€ì¥ ê¶ê¸ˆí•´í•  ì •ë³´ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ë„¤ ê°€ì§€ ì£¼ìš” ê¸°ëŠ¥(â‘ ì¡°í•© íƒìƒ‰ê¸°, â‘¡ë§ì¶¤ ì¶”ì²œ, â‘¢ì„­ì·¨ ì‹œê°„ ê°€ì´ë“œ, â‘£ì£¼ì˜ì‚¬í•­)ìœ¼ë¡œ êµ¬ì„±ëœ íƒ­ ê¸°ë°˜ì˜ ëŒ€ì‹œë³´ë“œ êµ¬ì¡°ë¥¼ ì±„íƒí–ˆìŠµë‹ˆë‹¤. ì´ êµ¬ì¡°ëŠ” ë°©ëŒ€í•œ ì •ë³´ë¥¼ ë…¼ë¦¬ì  ë‹¨ìœ„ë¡œ ë¶„í• í•˜ì—¬ ì‚¬ìš©ìê°€ ì›í•˜ëŠ” ì •ë³´ì— ë¹ ë¥´ê²Œ ì ‘ê·¼í•˜ê³ , ë³µì¡í•œ ë‚´ìš©ì„ ë‹¨ê³„ì ìœ¼ë¡œ ì†Œí™”í•  ìˆ˜ ìˆë„ë¡ ë•ìŠµë‹ˆë‹¤. íŠ¹íˆ, ì¸í„°ë™í‹°ë¸Œ í•„í„°ì™€ ë™ì  ì½˜í…ì¸  í‘œì‹œë¥¼ í†µí•´ ì‚¬ìš©ìì˜ ì°¸ì—¬ë¥¼ ìœ ë„í•˜ê³  ì •ë³´ íƒìƒ‰ì˜ íš¨ìœ¨ì„±ì„ ê·¹ëŒ€í™”í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤. -->
    <!-- Visualization & Content Choices: ë³´ê³ ì„œì˜ í•µì‹¬ ì •ë³´ëŠ” ì˜ì–‘ì†Œ ê°„ì˜ 'ê´€ê³„'ì™€ 'ì¡°ê±´ë¶€ ì¶”ì²œ'ì´ë¯€ë¡œ, ì •ì ì¸ ì°¨íŠ¸ë³´ë‹¤ëŠ” ì‚¬ìš©ìì˜ ì„ íƒì— ë”°ë¼ ê²°ê³¼ê°€ ë™ì ìœ¼ë¡œ ë³€í•˜ëŠ” ì¸í„°ë™í‹°ë¸Œ ëª©ë¡ê³¼ í•„í„°ê°€ ë” íš¨ê³¼ì ì´ë¼ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤. 'ì¡°í•© íƒìƒ‰ê¸°'ëŠ” ë“œë¡­ë‹¤ìš´ ì„ íƒì— ë”°ë¼ ì‹œë„ˆì§€/ê¸¸í•­ ê´€ê³„ë¥¼ ì¦‰ì‹œ ë³´ì—¬ì£¼ë©°, 'ë§ì¶¤ ì¶”ì²œ'ì€ ì—°ë ¹/ì„±ë³„ í•„í„°ë§ì„ í†µí•´ ê°œì¸í™”ëœ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì„­ì·¨ ì‹œê°„ì€ ì‹œê°„ëŒ€ë³„ ê·¸ë£¹í•‘ì„ í†µí•´, ì£¼ì˜ì‚¬í•­ì€ ì•„ì½”ë””ì–¸ UIë¥¼ í†µí•´ ì •ë³´ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ì •ë¦¬í•˜ì—¬ ì‚¬ìš©ìì˜ ì¸ì§€ì  ë¶€ë‹´ì„ ì¤„ì´ê³  ê°€ë…ì„±ì„ ë†’ì˜€ìŠµë‹ˆë‹¤. ì´ ëª¨ë“  ê²ƒì€ Chart.js ì—†ì´ ìˆœìˆ˜ HTML/CSS/JSë¡œ êµ¬í˜„í•˜ì—¬ ì›¹í˜ì´ì§€ì˜ ê²½ëŸ‰í™”ì™€ ë¹ ë¥¸ ë°˜ì‘ì„±ì„ í™•ë³´í–ˆìŠµë‹ˆë‹¤. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; }
        .tab-btn.active {
            border-color: #4A5568;
            background-color: #4A5568;
            color: #FFFFFF;
            font-weight: 700;
        }
        .content-section { display: none; }
        .content-section.active { display: block; }
        .accordion-content { max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out; }
        .nutrient-card { transition: all 0.3s ease; }
    </style>
</head>
<body class="bg-[#F8F7F4] text-gray-800">

    <div class="container mx-auto p-4 md:p-8 max-w-4xl">
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-800 mb-2">ìŠ¤ë§ˆíŠ¸ ì˜ì–‘ì œ ê°€ì´ë“œ</h1>
            <p class="text-lg text-gray-600">ë‚´ ëª¸ì„ ìœ„í•œ ìµœì ì˜ ì¡°í•©ì„ ì°¾ì•„ë³´ì„¸ìš”.</p>
        </header>

        <nav class="flex flex-wrap justify-center gap-2 md:gap-4 mb-8">
            <button class="tab-btn active text-sm md:text-base border-2 border-gray-400 rounded-full px-4 py-2 transition-all duration-300 hover:bg-gray-200" data-tab="explorer">ğŸ” ì¡°í•© íƒìƒ‰ê¸°</button>
            <button class="tab-btn text-sm md:text-base border-2 border-gray-400 rounded-full px-4 py-2 transition-all duration-300 hover:bg-gray-200" data-tab="recommender">ğŸ’¡ ë§ì¶¤ ì¶”ì²œ</button>
            <button class="tab-btn text-sm md:text-base border-2 border-gray-400 rounded-full px-4 py-2 transition-all duration-300 hover:bg-gray-200" data-tab="timing">â° ì„­ì·¨ ì‹œê°„</button>
            <button class="tab-btn text-sm md:text-base border-2 border-gray-400 rounded-full px-4 py-2 transition-all duration-300 hover:bg-gray-200" data-tab="precautions">âš ï¸ ì£¼ì˜ì‚¬í•­</button>
        </nav>

        <main>
            <!-- ì¡°í•© íƒìƒ‰ê¸° Section -->
            <section id="explorer" class="content-section active">
                <div class="bg-white p-6 rounded-2xl shadow-md">
                    <h2 class="text-2xl font-bold mb-4 text-center">ê¶í•©ì´ ê¶ê¸ˆí•œ ì˜ì–‘ì œ ì¡°í•©</h2>
                    <p class="text-center text-gray-600 mb-6">ê¶ê¸ˆí•œ ì˜ì–‘ì†Œë¥¼ ì„ íƒí•˜ì‹œë©´, í•¨ê»˜ ë¨¹ìœ¼ë©´ ì¢‹ì€ ì¡°í•©ê³¼ í”¼í•´ì•¼ í•  ì¡°í•©ì„ ê³¼í•™ì  ì›ë¦¬ì™€ í•¨ê»˜ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤.</p>
                    <div class="flex justify-center mb-6">
                        <select id="nutrient-select" class="w-full max-w-xs p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-gray-500 focus:border-gray-500">
                            <option value="">ì˜ì–‘ì œë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
                        </select>
                    </div>
                    <div id="combination-results" class="grid md:grid-cols-2 gap-6">
                        <!-- Results will be injected here -->
                    </div>
                </div>
            </section>

            <!-- ë§ì¶¤ ì¶”ì²œ Section -->
            <section id="recommender" class="content-section">
                <div class="bg-white p-6 rounded-2xl shadow-md">
                    <h2 class="text-2xl font-bold mb-4 text-center">ì—°ë ¹/ì„±ë³„ ë§ì¶¤ ì˜ì–‘ì œ ì°¾ê¸°</h2>
                     <p class="text-center text-gray-600 mb-6">ìì‹ ì˜ ì—°ë ¹ëŒ€ì™€ ì„±ë³„ì„ ì„ íƒí•˜ì—¬ í˜„ì¬ ê°€ì¥ í•„ìš”í•œ ì˜ì–‘ì œ í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”.</p>
                    <div class="flex flex-col sm:flex-row justify-center items-center gap-4 mb-6">
                        <div class="flex gap-2">
                            <label class="font-semibold">ì—°ë ¹:</label>
                            <select id="age-filter" class="p-2 border border-gray-300 rounded-md">
                                <option value="">ì„ íƒ</option>
                                <option value="2030">20-30ëŒ€</option>
                                <option value="4050">40-50ëŒ€</option>
                                <option value="60+">60ëŒ€ ì´ìƒ</option>
                            </select>
                        </div>
                        <div class="flex gap-2">
                            <label class="font-semibold">ì„±ë³„:</label>
                            <select id="gender-filter" class="p-2 border border-gray-300 rounded-md">
                                <option value="">ì„ íƒ</option>
                                <option value="male">ë‚¨ì„±</option>
                                <option value="female">ì—¬ì„±</option>
                            </select>
                        </div>
                    </div>
                    <div id="recommendation-result" class="p-6 bg-gray-50 rounded-lg min-h-[200px] flex items-center justify-center">
                        <p class="text-gray-500">ì—°ë ¹ê³¼ ì„±ë³„ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</p>
                    </div>
                </div>
            </section>

            <!-- ì„­ì·¨ ì‹œê°„ Section -->
            <section id="timing" class="content-section">
                 <div class="bg-white p-6 rounded-2xl shadow-md">
                    <h2 class="text-2xl font-bold mb-4 text-center">ì˜ì–‘ì œ ì„­ì·¨ ìµœì  ì‹œê°„</h2>
                    <p class="text-center text-gray-600 mb-8">ì˜ì–‘ì†Œì˜ ì¢…ë¥˜ì— ë”°ë¼ í¡ìˆ˜ìœ¨ì„ ê·¹ëŒ€í™”í•  ìˆ˜ ìˆëŠ” ìµœì ì˜ ì„­ì·¨ ì‹œê°„ì„ í™•ì¸í•˜ì„¸ìš”. ìš°ë¦¬ ëª¸ì˜ ìƒì²´ë¦¬ë“¬ì— ë§ì¶˜ ìŠ¤ë§ˆíŠ¸í•œ ì„­ì·¨ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤.</p>
                    <div class="grid md:grid-cols-3 gap-6 text-center">
                        <div class="bg-[#FFFBEB] p-4 rounded-lg">
                            <h3 class="font-bold text-xl mb-3 text-[#D97706]">â˜€ï¸ ì•„ì¹¨ (í™œê¸°ì°¬ ì‹œì‘)</h3>
                            <div class="space-y-2 text-left">
                                <div class="p-3 bg-white rounded-md shadow-sm"><strong>ë¹„íƒ€ë¯¼ Bêµ°:</strong> ì—ë„ˆì§€ ëŒ€ì‚¬ í™œì„±í™”</div>
                                <div class="p-3 bg-white rounded-md shadow-sm"><strong>ë¹„íƒ€ë¯¼ C (ë¶„í• ):</strong> ì‹í›„ ì„­ì·¨ ê¶Œì¥</div>
                                <div class="p-3 bg-white rounded-md shadow-sm"><strong>ì² ë¶„:</strong> ì¹¼ìŠ˜ê³¼ ì‹œê°„ì°¨ ë‘ê¸°</div>
                                <div class="p-3 bg-white rounded-md shadow-sm"><strong>ìœ ì‚°ê· :</strong> ê³µë³µ ë˜ëŠ” ì·¨ì¹¨ ì „</div>
                            </div>
                        </div>
                        <div class="bg-[#EFF6FF] p-4 rounded-lg">
                            <h3 class="font-bold text-xl mb-3 text-[#2563EB]">ğŸ½ï¸ ì‹í›„ (í¡ìˆ˜ìœ¨ UP)</h3>
                            <div class="space-y-2 text-left">
                               <div class="p-3 bg-white rounded-md shadow-sm"><strong>ì§€ìš©ì„± ë¹„íƒ€ë¯¼ (A,D,E,K):</strong> ì§€ë°©ê³¼ í•¨ê»˜</div>
                                <div class="p-3 bg-white rounded-md shadow-sm"><strong>ì˜¤ë©”ê°€3:</strong> ì§€ë°© ì„±ë¶„ìœ¼ë¡œ í¡ìˆ˜ìœ¨ ì¦ê°€</div>
                                <div class="p-3 bg-white rounded-md shadow-sm"><strong>ì½”ì—”ìì„ Q10:</strong> ì§€ìš©ì„±, ì‹í›„ ì„­ì·¨</div>
                                <div class="p-3 bg-white rounded-md shadow-sm"><strong>ë£¨í…Œì¸:</strong> ì§€ìš©ì„±, ì‹í›„ ì„­ì·¨</div>
                            </div>
                        </div>
                        <div class="bg-[#F3E8FF] p-4 rounded-lg">
                            <h3 class="font-bold text-xl mb-3 text-[#7E22CE]">ğŸŒ™ ì €ë… (í¸ì•ˆí•œ ë§ˆë¬´ë¦¬)</h3>
                            <div class="space-y-2 text-left">
                                <div class="p-3 bg-white rounded-md shadow-sm"><strong>ì¹¼ìŠ˜:</strong> ì‹ ê²½ ì•ˆì •, ìˆ™ë©´ ìœ ë„</div>
                                <div class="p-3 bg-white rounded-md shadow-sm"><strong>ë§ˆê·¸ë„¤ìŠ˜:</strong> ê·¼ìœ¡ ì´ì™„, ìˆ™ë©´ ë„ì›€</div>
                                <div class="p-3 bg-white rounded-md shadow-sm"><strong>ìœ ì‚°ê· :</strong> ê³µë³µ ë˜ëŠ” ì·¨ì¹¨ ì „</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ì£¼ì˜ì‚¬í•­ Section -->
            <section id="precautions" class="content-section">
                <div class="bg-white p-6 rounded-2xl shadow-md">
                    <h2 class="text-2xl font-bold mb-4 text-center">ì„­ì·¨ ì „ ë°˜ë“œì‹œ í™•ì¸í•˜ì„¸ìš”</h2>
                    <p class="text-center text-gray-600 mb-8">'ê³¼ìœ ë¶ˆê¸‰'ì´ë¼ëŠ” ë§ì²˜ëŸ¼, ë¬´ë¶„ë³„í•œ ì„­ì·¨ëŠ” ì˜¤íˆë ¤ í•´ê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ ì£¼ì˜í•´ì•¼ í•  ì ë“¤ì„ í™•ì¸í•˜ê³  ì•ˆì „í•˜ê²Œ ì„­ì·¨í•˜ì„¸ìš”.</p>
                    <div id="accordion-container" class="space-y-4">
                        <!-- Accordion items will be injected here -->
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const data = {
                combinations: {
                    'ì¹¼ìŠ˜': {
                        good: [{ name: 'ë¹„íƒ€ë¯¼ D', reason: 'ë¹„íƒ€ë¯¼ DëŠ” ì†Œì¥ì—ì„œ ì¹¼ìŠ˜ í¡ìˆ˜ë¥¼ ì´‰ì§„í•˜ëŠ” ë‹¨ë°±ì§ˆ í•©ì„±ì„ ë„ì™€ ë¼ˆ ê±´ê°• ì‹œë„ˆì§€ë¥¼ ëƒ…ë‹ˆë‹¤.' }],
                        bad: [{ name: 'ì² ë¶„, ì•„ì—°, ë§ê°„', reason: 'ì†Œì¥ì—ì„œ ë™ì¼í•œ í¡ìˆ˜ í†µë¡œë¥¼ ë‘ê³  ê²½ìŸí•˜ì—¬ ì„œë¡œì˜ í¡ìˆ˜ìœ¨ì„ ë–¨ì–´ëœ¨ë¦½ë‹ˆë‹¤.' }, { name: 'ë…¹ì°¨/ì»¤í”¼', reason: 'íƒ€ë‹Œ ì„±ë¶„ì´ ì¹¼ìŠ˜ê³¼ ê²°í•©í•˜ì—¬ í¡ìˆ˜ë¥¼ ë°©í•´í•©ë‹ˆë‹¤.' }, { name: 'ê³ ì„¬ìœ ì§ˆ', reason: 'ì‹ì´ì„¬ìœ ê°€ ì¹¼ìŠ˜ì„ í¡ì°©í•˜ì—¬ ë°°ì¶œì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.' }]
                    },
                    'ì² ë¶„': {
                        good: [{ name: 'ë¹„íƒ€ë¯¼ C', reason: 'í¡ìˆ˜ê°€ ì–´ë ¤ìš´ 3ê°€ ì² ì„ í¡ìˆ˜ê°€ ìš©ì´í•œ 2ê°€ ì² ë¡œ ì „í™˜ì‹œì¼œ í¡ìˆ˜ìœ¨ì„ ë†’ì…ë‹ˆë‹¤.' }],
                        bad: [{ name: 'ì¹¼ìŠ˜', reason: 'ì†Œì¥ì—ì„œ í¡ìˆ˜ ê²½ë¡œê°€ ê²¹ì³ ì² ë¶„ì˜ í¡ìˆ˜ë¥¼ ë°©í•´í•©ë‹ˆë‹¤.' }, { name: 'ë…¹ì°¨/ì»¤í”¼', reason: 'íƒ€ë‹Œ ì„±ë¶„ì´ ì² ë¶„ê³¼ ê²°í•©í•˜ì—¬ í¡ìˆ˜ë¥¼ ì €í•´í•©ë‹ˆë‹¤.' }, { name: 'ê³ ì„¬ìœ ì§ˆ', reason: 'ì‹ì´ì„¬ìœ ê°€ ì² ë¶„ì„ í¡ì°©í•˜ì—¬ ë°°ì¶œì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.' }]
                    },
                    'ì˜¤ë©”ê°€3': {
                        good: [{ name: 'ì½”ì—”ìì„ Q10', reason: 'ì§€ìš©ì„±ì¸ ì½”íí…ì´ ì˜¤ë©”ê°€3 ì§€ë°©ì‚°ê³¼ í•¨ê»˜ ì„­ì·¨ ì‹œ í¡ìˆ˜ìœ¨ì´ ì¦ê°€í•˜ë©°, ì‹¬í˜ˆê´€ ê±´ê°•ì— ì‹œë„ˆì§€ë¥¼ ëƒ…ë‹ˆë‹¤.' }, { name: 'ë£¨í…Œì¸', reason: 'ë‘ ì„±ë¶„ ëª¨ë‘ ì§€ìš©ì„±ì´ë©°, í•¨ê»˜ ì„­ì·¨ ì‹œ ì•ˆêµ¬ ê±´ì¡° ê°œì„ ê³¼ ì‹œë ¥ ë³´í˜¸ íš¨ê³¼ë¥¼ ë™ì‹œì— ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.' }],
                        bad: []
                    },
                    'ì½”ì—”ìì„ Q10': {
                        good: [{ name: 'ì˜¤ë©”ê°€3', reason: 'ì§€ìš©ì„±ì¸ ì½”íí…ì€ ëŒ€í‘œì ì¸ ì§€ë°©ì‚°ì¸ ì˜¤ë©”ê°€3ì™€ í•¨ê»˜ ì„­ì·¨ ì‹œ í¡ìˆ˜ìœ¨ì´ í¬ê²Œ ì¦ê°€í•©ë‹ˆë‹¤.' }],
                        bad: []
                    },
                    'ì½œë¼ê²': {
                        good: [{ name: 'ë¹„íƒ€ë¯¼ C', reason: 'ë¹„íƒ€ë¯¼ CëŠ” ì²´ë‚´ì—ì„œ ì½œë¼ê²ì„ í•©ì„±í•˜ëŠ” ê³¼ì •ì— í•„ìˆ˜ì ì¸ ì¡°íš¨ì†Œ ì—­í• ì„ í•˜ì—¬ í•©ì„±ì„ ë•ìŠµë‹ˆë‹¤.' }],
                        bad: []
                    },
                    'ì•„ì—°': {
                        good: [],
                        bad: [{ name: 'êµ¬ë¦¬', reason: 'ì•„ì—° ì„­ì·¨ ì‹œ ìƒì„±ë˜ëŠ” \'ë©”íƒˆë¡œí‹°ì˜¤ë„¤ì¸\' ë‹¨ë°±ì§ˆì´ êµ¬ë¦¬ì˜ í¡ìˆ˜ë¥¼ ë°©í•´í•˜ì—¬ ì¥ê¸°ì ìœ¼ë¡œ êµ¬ë¦¬ ê²°í•ì„ ìœ ë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.' }, { name: 'ì¹¼ìŠ˜', reason: 'ë†’ì€ í•¨ëŸ‰ì˜ ì¹¼ìŠ˜ì€ ì•„ì—°ì˜ í¡ìˆ˜ë¥¼ ë°©í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.' }]
                    }
                },
                recommendations: {
                    '2030_male': {
                        title: '20-30ëŒ€ ë‚¨ì„±: ì—ë„ˆì§€, ìŠ¤íŠ¸ë ˆìŠ¤, ê°„ ê±´ê°•',
                        nutrients: ['ê³ í•¨ëŸ‰ ë¹„íƒ€ë¯¼ Bêµ°', 'ë°€í¬ì”¨ìŠ¬', 'ì•„ì—°'],
                        reason: 'ì¦ì€ ì•¼ê·¼ê³¼ íšŒì‹ìœ¼ë¡œ ì¸í•œ ë§Œì„± í”¼ë¡œì™€ ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ì— ì´ˆì ì„ ë§ì¶¥ë‹ˆë‹¤. ë¹„íƒ€ë¯¼ Bêµ°ì€ ì—ë„ˆì§€ ìƒì„±ì„ ë•ê³ , ë°€í¬ì”¨ìŠ¬ì€ ê°„ ê±´ê°•ì„, ì•„ì—°ì€ ì •ìƒì ì¸ ë©´ì—­ ê¸°ëŠ¥ê³¼ í™œë ¥ì— ê¸°ì—¬í•©ë‹ˆë‹¤.'
                    },
                    '2030_female': {
                        title: '20-30ëŒ€ ì—¬ì„±: í”¼ë¶€, ìƒë¦¬ì£¼ê¸°, ë¹ˆí˜ˆ ì˜ˆë°©',
                        nutrients: ['ì² ë¶„+ë¹„íƒ€ë¯¼C', 'ì—½ì‚°', 'ì´ë…¸ì‹œí†¨ (í•„ìš”ì‹œ)'],
                        reason: 'ì£¼ê¸°ì ì¸ ì² ë¶„ ì†ì‹¤ì„ ë³´ì¶©í•˜ê³  ê°€ì„ê¸° ê±´ê°•ì˜ ê¸°ì´ˆë¥¼ ë‹¤ì§‘ë‹ˆë‹¤. ì² ë¶„ê³¼ ë¹„íƒ€ë¯¼CëŠ” ë¹ˆí˜ˆ ì˜ˆë°©, ì—½ì‚°ì€ í˜ˆì•¡ ìƒì„±, ì´ë…¸ì‹œí†¨ì€ í˜¸ë¥´ëª¬ ê· í˜•ì— ë„ì›€ì„ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.'
                    },
                    '4050_male': {
                        title: '40-50ëŒ€ ë‚¨ì„±: í˜ˆí–‰ ê°œì„ , ì „ë¦½ì„ , í•­ì‚°í™”',
                        nutrients: ['ì˜¤ë©”ê°€3', 'ì˜íŒ”ë©”í† ', 'í•­ì‚°í™”ì œ(ì…€ë ˆëŠ„ ë“±)'],
                        reason: 'ë³¸ê²©ì ì¸ ë…¸í™”ì™€ ë§Œì„±ì§ˆí™˜ ìœ„í—˜ì— ëŒ€ë¹„í•œ ì„ ì œì  ê´€ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤. ì˜¤ë©”ê°€3ëŠ” í˜ˆê´€ ê±´ê°•, ì˜íŒ”ë©”í† ëŠ” ì „ë¦½ì„  ê±´ê°•, í•­ì‚°í™”ì œëŠ” ì„¸í¬ ë…¸í™” ë°©ì§€ì— ë„ì›€ì„ ì¤ë‹ˆë‹¤.'
                    },
                    '4050_female': {
                        title: '40-50ëŒ€ ì—¬ì„±: ê°±ë…„ê¸°, ë¼ˆ ê±´ê°•, ì‹¬í˜ˆê´€',
                        nutrients: ['ì¹¼ìŠ˜+ë§ˆê·¸ë„¤ìŠ˜+ë¹„íƒ€ë¯¼D', 'ëŒ€ë‘ ì´ì†Œí”Œë¼ë³¸', 'ê°ë§ˆë¦¬ë†€ë Œì‚°'],
                        reason: 'ê¸‰ê²©í•œ í˜¸ë¥´ëª¬ ë³€í™”ë¡œ ì¸í•œ ì‹ ì²´ì  ì¦ìƒ ì™„í™”ì™€ ê³¨ë°€ë„ ìœ ì§€ì— ì§‘ì¤‘í•©ë‹ˆë‹¤. ì¹¼ë§ˆë””ëŠ” ë¼ˆ ê±´ê°•, ì´ì†Œí”Œë¼ë³¸ì€ ê°±ë…„ê¸° ì¦ìƒ ì™„í™”, ê°ë§ˆë¦¬ë†€ë Œì‚°ì€ í˜ˆí–‰ ê°œì„ ì— ê¸°ì—¬í•©ë‹ˆë‹¤.'
                    },
                    '60+_male': {
                        title: '60ëŒ€ ì´ìƒ ë‚¨ì„±: ê·¼ë ¥, ì¸ì§€ê¸°ëŠ¥, ëˆˆ ê±´ê°•',
                        nutrients: ['ê³ í’ˆì§ˆ ë‹¨ë°±ì§ˆ', 'ì¹¼ë§ˆë””', 'ì˜¤ë©”ê°€3', 'ë£¨í…Œì¸/ì§€ì•„ì”í‹´'],
                        reason: 'ê±´ê°• ìˆ˜ëª… ì—°ì¥ì„ ìœ„í•´ ì „ë°˜ì ì¸ ì‹ ì²´ ê¸°ëŠ¥ ì €í•˜ë¥¼ ëŠ¦ì¶”ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ë‹¨ë°±ì§ˆì€ ê·¼ê°ì†Œì¦ ì˜ˆë°©, ì˜¤ë©”ê°€3ì™€ ë£¨í…Œì¸ì€ ê°ê° ë‡Œì™€ ëˆˆ ê±´ê°•ì„ ì§€ì›í•©ë‹ˆë‹¤.'
                    },
                    '60+_female': {
                        title: '60ëŒ€ ì´ìƒ ì—¬ì„±: ê³¨ì ˆ ì˜ˆë°©, ì¸ì§€ê¸°ëŠ¥, ëˆˆ ê±´ê°•',
                        nutrients: ['ê³ í’ˆì§ˆ ë‹¨ë°±ì§ˆ', 'ì¹¼ë§ˆë””', 'ì˜¤ë©”ê°€3', 'ë£¨í…Œì¸/ì§€ì•„ì”í‹´', 'ë¹„íƒ€ë¯¼ B12'],
                        reason: 'ì‚¶ì˜ ì§ˆê³¼ ì§ê²°ë˜ëŠ” í•µì‹¬ ê¸°ëŠ¥(ê·¼ìœ¡, ë‡Œ, ëˆˆ, ë¼ˆ) ë³´ì¡´ì— ì§‘ì¤‘í•©ë‹ˆë‹¤. íŠ¹íˆ ê³¨ì ˆ ì˜ˆë°©ì„ ìœ„í•œ ì¹¼ë§ˆë””ì™€ ì‹ ê²½ ê¸°ëŠ¥ì— í•„ìˆ˜ì ì¸ ë¹„íƒ€ë¯¼ B12 ì„­ì·¨ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤.'
                    }
                },
                precautions: [
                    { title: 'ì§€ìš©ì„± ë¹„íƒ€ë¯¼(A,D,E,K) ê³¼ë‹¤ë³µìš© ìœ„í—˜', content: 'ìˆ˜ìš©ì„± ë¹„íƒ€ë¯¼ê³¼ ë‹¬ë¦¬ ì§€ìš©ì„± ë¹„íƒ€ë¯¼ì€ ëª¸ì— ì¶•ì ë˜ì–´ ë…ì„±ì„ ìœ ë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ ë¹„íƒ€ë¯¼ AëŠ” ë‘í†µ, ê°„ ì†ìƒ, ë¹„íƒ€ë¯¼ DëŠ” ê³ ì¹¼ìŠ˜í˜ˆì¦, ë¹„íƒ€ë¯¼ EëŠ” ì¶œí˜ˆ ìœ„í—˜ ì¦ê°€ë¥¼ ìœ ë°œí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë°˜ë“œì‹œ ì •í•´ì§„ ìš©ëŸ‰ë§Œ ì„­ì·¨í•´ì•¼ í•©ë‹ˆë‹¤.' },
                    { title: 'í—ˆìœ„Â·ê³¼ì¥ ê´‘ê³  êµ¬ë³„í•˜ëŠ” ë²•', content: 'â€˜ì§ˆë³‘ ì™„ì¹˜â€™, â€˜íŠ¹íš¨ì•½â€™ ë“± ì˜ì•½í’ˆìœ¼ë¡œ ì˜¤ì¸ì‹œí‚¤ëŠ” í‘œí˜„ì„ ì£¼ì˜í•˜ì„¸ìš”. êµ¬ë§¤ ì „ ì œí’ˆ í¬ì¥ì˜ â€˜ê±´ê°•ê¸°ëŠ¥ì‹í’ˆâ€™ ë§ˆí¬ì™€ â€˜í‘œì‹œÂ·ê´‘ê³  ì‚¬ì „ì‹¬ì˜í•„â€™ ë§ˆí¬ë¥¼ ë°˜ë“œì‹œ í™•ì¸í•˜ëŠ” ê²ƒì´ ì•ˆì „í•©ë‹ˆë‹¤. â€˜ì‹í’ˆì•ˆì „ë‚˜ë¼â€™ ì›¹ì‚¬ì´íŠ¸ì—ì„œ ì •ì‹ í—ˆê°€ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.' },
                    { title: 'ê¸°ì €ì§ˆí™˜ì, ì˜ì–‘ì œ ì„­ì·¨ ì „ ì „ë¬¸ê°€ ìƒë‹´ í•„ìˆ˜', content: 'ê³ í˜ˆì••, ë‹¹ë‡¨, ì‹ ì¥ ì§ˆí™˜ ë“±ì´ ìˆëŠ” ê²½ìš°, íŠ¹ì • ì˜ì–‘ì œê°€ ë³µìš© ì¤‘ì¸ ì•½ë¬¼ê³¼ ìƒí˜¸ì‘ìš©í•˜ì—¬ ì‹¬ê°í•œ ë¶€ì‘ìš©ì„ ì¼ìœ¼í‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ê¸€ë£¨ì½”ì‚¬ë¯¼ì€ í˜ˆë‹¹ì„ ë†’ì¼ ìˆ˜ ìˆê³ , ê³ ìš©ëŸ‰ ë¹„íƒ€ë¯¼CëŠ” ì‹ ì¥ ê²°ì„ ìœ„í—˜ì„ ì¦ê°€ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì„­ì·¨ ì „ ë°˜ë“œì‹œ ì˜ì‚¬ ë˜ëŠ” ì•½ì‚¬ì™€ ìƒë‹´í•˜ì„¸ìš”.' }
                ]
            };

            const nutrientSelect = document.getElementById('nutrient-select');
            const combinationResults = document.getElementById('combination-results');
            
            const ageFilter = document.getElementById('age-filter');
            const genderFilter = document.getElementById('gender-filter');
            const recommendationResult = document.getElementById('recommendation-result');

            const tabs = document.querySelectorAll('.tab-btn');
            const contents = document.querySelectorAll('.content-section');

            const accordionContainer = document.getElementById('accordion-container');
            
            function initExplorer() {
                Object.keys(data.combinations).forEach(nutrient => {
                    const option = document.createElement('option');
                    option.value = nutrient;
                    option.textContent = nutrient;
                    nutrientSelect.appendChild(option);
                });

                nutrientSelect.addEventListener('change', (e) => {
                    const selectedNutrient = e.target.value;
                    combinationResults.innerHTML = '';
                    if (!selectedNutrient) return;

                    const combo = data.combinations[selectedNutrient];
                    
                    const goodHtml = `
                        <div class="bg-emerald-50 border-l-4 border-emerald-500 p-4 rounded-r-lg nutrient-card">
                            <h3 class="text-lg font-bold text-emerald-700 mb-3">ğŸ¤ ìµœê³ ì˜ ì¡°í•© (ì‹œë„ˆì§€)</h3>
                            <ul class="space-y-3">
                                ${combo.good.length > 0 ? combo.good.map(item => `<li><strong class="text-emerald-600">${item.name}:</strong> <span class="text-gray-700 text-sm">${item.reason}</span></li>`).join('') : '<li class="text-gray-500">ì¶”ì²œ ì¡°í•© ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.</li>'}
                            </ul>
                        </div>
                    `;

                    const badHtml = `
                        <div class="bg-red-50 border-l-4 border-red-500 p-4 rounded-r-lg nutrient-card">
                            <h3 class="text-lg font-bold text-red-700 mb-3">ğŸš« í”¼í•´ì•¼ í•  ì¡°í•© (ê¸¸í•­)</h3>
                            <ul class="space-y-3">
                                ${combo.bad.length > 0 ? combo.bad.map(item => `<li><strong class="text-red-600">${item.name}:</strong> <span class="text-gray-700 text-sm">${item.reason}</span></li>`).join('') : '<li class="text-gray-500">ì£¼ì˜ ì¡°í•© ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.</li>'}
                            </ul>
                        </div>
                    `;

                    combinationResults.innerHTML = goodHtml + badHtml;
                });
            }

            function updateRecommendation() {
                const age = ageFilter.value;
                const gender = genderFilter.value;
                
                if (!age || !gender) {
                    recommendationResult.innerHTML = '<p class="text-gray-500">ì—°ë ¹ê³¼ ì„±ë³„ì„ ëª¨ë‘ ì„ íƒí•´ì£¼ì„¸ìš”.</p>';
                    return;
                }

                let key = age + '_' + gender;
                if (age === '60+') {
                    key = '60+_' + gender;
                }
                
                const result = data.recommendations[key];
                if (result) {
                    recommendationResult.innerHTML = `
                        <div class="text-left w-full">
                            <h3 class="font-bold text-xl text-gray-800 mb-3">${result.title}</h3>
                            <p class="text-gray-600 mb-4">${result.reason}</p>
                            <div class="flex flex-wrap gap-2">
                                ${result.nutrients.map(n => `<span class="bg-gray-200 text-gray-700 px-3 py-1 rounded-full text-sm font-semibold">${n}</span>`).join('')}
                            </div>
                        </div>
                    `;
                } else {
                     recommendationResult.innerHTML = '<p class="text-gray-500">ì„ íƒí•˜ì‹  ì¡°ê±´ì— ëŒ€í•œ ì¶”ì²œ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
                }
            }

            function initRecommender() {
                ageFilter.addEventListener('change', updateRecommendation);
                genderFilter.addEventListener('change', updateRecommendation);
            }

            function initTabs() {
                tabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        tabs.forEach(t => t.classList.remove('active'));
                        tab.classList.add('active');

                        contents.forEach(content => {
                            content.classList.remove('active');
                        });
                        document.getElementById(tab.dataset.tab).classList.add('active');
                    });
                });
            }

            function initAccordion() {
                data.precautions.forEach((item, index) => {
                    const div = document.createElement('div');
                    div.innerHTML = `
                        <div class="border border-gray-200 rounded-lg">
                            <button class="accordion-button w-full flex justify-between items-center p-4 text-left font-semibold text-lg" data-target="accordion-content-${index}">
                                <span>${item.title}</span>
                                <span class="transform transition-transform duration-300">â–¼</span>
                            </button>
                            <div id="accordion-content-${index}" class="accordion-content px-4">
                                <p class="text-gray-600 pb-4">${item.content}</p>
                            </div>
                        </div>
                    `;
                    accordionContainer.appendChild(div);
                });

                document.querySelectorAll('.accordion-button').forEach(button => {
                    button.addEventListener('click', () => {
                        const content = document.getElementById(button.dataset.target);
                        const icon = button.querySelector('span:last-child');
                        if (content.style.maxHeight) {
                            content.style.maxHeight = null;
                            icon.style.transform = 'rotate(0deg)';
                        } else {
                            content.style.maxHeight = content.scrollHeight + 'px';
                            icon.style.transform = 'rotate(180deg)';
                        }
                    });
                });
            }
            
            initExplorer();
            initRecommender();
            initTabs();
            initAccordion();
        });
    </script>
</body>
</html>
